<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1" name="viewport" /><title>Padrino - Padrino Admin</title><link href="../../../images/favicons/apple-touch-icon-57x57-75d6516e.png" rel="apple-touch-icon" sizes="57x57" /><link href="../../../images/favicons/apple-touch-icon-60x60-76221479.png" rel="apple-touch-icon" sizes="60x60" /><link href="../../../images/favicons/apple-touch-icon-72x72-7bd96522.png" rel="apple-touch-icon" sizes="72x72" /><link href="../../../images/favicons/apple-touch-icon-76x76-30739e4d.png" rel="apple-touch-icon" sizes="76x76" /><link href="../../../images/favicons/apple-touch-icon-114x114-1b1963ee.png" rel="apple-touch-icon" sizes="114x114" /><link href="../../../images/favicons/apple-touch-icon-144x144-b3992622.png" rel="apple-touch-icon" sizes="144x144" /><link href="../../../images/favicons/apple-touch-icon-152x152-48259d13.png" rel="apple-touch-icon" sizes="152x152" /><link href="../../../images/favicons/apple-touch-icon-180x180-b8e9ebf6.png" rel="apple-touch-icon" sizes="180x180" /><link href="../../../images/favicons/favicon-32x32-c7d41b6f.png" rel="icon" sizes="32x32" type="image/png" /><link href="../../../images/favicons/favicon-194x194-a2b53f7f.png" rel="icon" sizes="194x194" type="image/png" /><link href="../../../images/favicons/favicon-96x96-1f5cec29.png" rel="icon" sizes="96x96" type="image/png" /><link href="../../../images/favicons/android-chrome-192x192-a15741d5.png" rel="icon" sizes="192x192" type="image/png" /><link href="../../../images/favicons/favicon-16x16-609a9b93.png" rel="icon" sizes="16x16" type="image/png" /><link href="/images/favicons/manifest.json" rel="manifest" /><link color="#5bbad5" href="../../../images/favicons/safari-pinned-tab-a188e924.svg" rel="mask-icon" /><link href="../../../images/favicons/favicon.ico" rel="shortcut icon" /><meta content="#da532c" name="msapplication-TileColor" /><meta content="../../../images/favicons/mstile-144x144-c2018144.png" name="msapplication-TileImage" /><meta content="/images/favicons/browserconfig.xml" name="msapplication-config" /><meta content="#ffffff" name="theme-color" /><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /><link href="../../../assets/stylesheets/all-072dd7ac.css" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.0/anchor.min.js"></script><script src="../../../assets/javascripts/all-956a861e.js"></script><link href="http://padrinorb.com/blog.rss" rel="alternate" title="Blog - Padrino Ruby Web Framework" type="application/rss+xml" /></head><body class="guides guides_features guides_features_padrino-admin guides_features_padrino-admin_index"><div class="grid"><header class="header"><h1 class="header__name"><a href="/" class="padrino-name">Padrino</a></h1><div class="header__navigation"><nav class="navigation"><a class="navigation__toggler" href="#" id="navigation__toggler"><span class="navigation__toggler__icon fa fa-navicon"></span></a><ul class="navigation__items" id="navigation__items"><li class="navigation__item"><a href="/" class="navigation__link">Overview</a></li><li class="navigation__item"><a href="/guides/" class="navigation__link--is-active">Guides</a></li><li class="navigation__item"><a href="/blog/" class="navigation__link">Blog</a></li><li class="navigation__item"><a href="http://www.rubydoc.info/github/padrino/padrino-framework" class="navigation__link">API</a></li><li class="navigation__item"><a href="/contribute/" class="navigation__link">Contribute</a></li><li class="navigation__item"><a href="https://github.com/padrino/padrino-framework" class="navigation__link"><span class="button--slim">GitHub</span></a></li></ul></nav></div></header><div class="page"><div class="page__sidebar"><div class="sidebar"><h4 class="sidebar__header--first">Guides</h4><h5 class="sidebar__header"><a href="/guides/introduction/overview/">Introduction</a></h5><ul class="sidebar__items"><li class="sidebar__item"><a href="/guides/introduction/overview/" class="sidebar__link">Overview</a></li><li class="sidebar__item"><a href="/guides/introduction/why-learn-padrino/" class="sidebar__link">Why Learn Padrino?</a></li><li class="sidebar__item"><a href="/guides/introduction/examples/" class="sidebar__link">Examples</a></li><li class="sidebar__item"><a href="/guides/introduction/the-bleeding-edge/" class="sidebar__link">The Bleeding Edge</a></li><li class="sidebar__item"><a href="/guides/introduction/press/" class="sidebar__link">Press</a></li></ul><h5 class="sidebar__header"><a href="/guides/getting-started/overview/">Getting Started</a></h5><ul class="sidebar__items"><li class="sidebar__item"><a href="/guides/getting-started/overview/" class="sidebar__link">Overview</a></li><li class="sidebar__item"><a href="/guides/getting-started/basic-projects/" class="sidebar__link">Basic Projects</a></li><li class="sidebar__item"><a href="/guides/getting-started/installation/" class="sidebar__link">Installation</a></li><li class="sidebar__item"><a href="/guides/getting-started/blog-tutorial/" class="sidebar__link">Blog Tutorial</a></li></ul><h5 class="sidebar__header"><a href="/guides/features/overview/">Features</a></h5><ul class="sidebar__items"><li class="sidebar__item"><a href="/guides/features/overview/" class="sidebar__link">Overview</a></li><li class="sidebar__item"><a href="/guides/features/padrino-admin/" class="sidebar__link--is-active">Padrino Admin</a></li><li class="sidebar__item"><a href="/guides/features/padrino-mailer/" class="sidebar__link">Padrino Mailer</a></li><li class="sidebar__item"><a href="/guides/features/padrino-cache/" class="sidebar__link">Padrino Cache</a></li><li class="sidebar__item"><a href="/guides/features/mounting-applications/" class="sidebar__link">Mounting Applications</a></li><li class="sidebar__item"><a href="/guides/features/development-commands/" class="sidebar__link">Development Commands</a></li><li class="sidebar__item"><a href="/guides/features/extensions/" class="sidebar__link">Extensions</a></li><li class="sidebar__item"><a href="/guides/features/localization/" class="sidebar__link">Localization</a></li><li class="sidebar__item"><a href="/guides/features/rake-tasks/" class="sidebar__link">Rake Tasks</a></li></ul><h5 class="sidebar__header"><a href="/guides/generators/overview/">Generators</a></h5><ul class="sidebar__items"><li class="sidebar__item"><a href="/guides/generators/overview/" class="sidebar__link">Overview</a></li><li class="sidebar__item"><a href="/guides/generators/projects/" class="sidebar__link">Projects</a></li><li class="sidebar__item"><a href="/guides/generators/plugins/" class="sidebar__link">Plugins</a></li><li class="sidebar__item"><a href="/guides/generators/controllers/" class="sidebar__link">Controllers</a></li><li class="sidebar__item"><a href="/guides/generators/models/" class="sidebar__link">Models</a></li><li class="sidebar__item"><a href="/guides/generators/migrations/" class="sidebar__link">Migrations</a></li><li class="sidebar__item"><a href="/guides/generators/mailers/" class="sidebar__link">Mailers</a></li><li class="sidebar__item"><a href="/guides/generators/sub-applications/" class="sidebar__link">Sub-Applications</a></li><li class="sidebar__item"><a href="/guides/generators/tiny-skeleton/" class="sidebar__link">Tiny Skeleton</a></li><li class="sidebar__item"><a href="/guides/generators/admin/" class="sidebar__link">Admin</a></li><li class="sidebar__item"><a href="/guides/generators/components/" class="sidebar__link">Components</a></li><li class="sidebar__item"><a href="/guides/generators/tasks/" class="sidebar__link">Tasks</a></li></ul><h5 class="sidebar__header"><a href="/guides/controllers/overview/">Controllers</a></h5><ul class="sidebar__items"><li class="sidebar__item"><a href="/guides/controllers/overview/" class="sidebar__link">Overview</a></li><li class="sidebar__item"><a href="/guides/controllers/routing/" class="sidebar__link">Routing</a></li><li class="sidebar__item"><a href="/guides/controllers/layouts/" class="sidebar__link">Layouts</a></li><li class="sidebar__item"><a href="/guides/controllers/provides-formats/" class="sidebar__link">Provides Format</a></li><li class="sidebar__item"><a href="/guides/controllers/params-whitelisting/" class="sidebar__link">Params Whitelisting</a></li><li class="sidebar__item"><a href="/guides/controllers/route-filters/" class="sidebar__link">Route Filters</a></li><li class="sidebar__item"><a href="/guides/controllers/prioritized-routes/" class="sidebar__link">Prioritized Routes</a></li><li class="sidebar__item"><a href="/guides/controllers/custom-conditions/" class="sidebar__link">Custom Conditions</a></li><li class="sidebar__item"><a href="/guides/controllers/parsing-params/" class="sidebar__link">Parsing Params</a></li><li class="sidebar__item"><a href="/guides/controllers/rendering/" class="sidebar__link">Rendering</a></li><li class="sidebar__item"><a href="/guides/controllers/sessions/" class="sidebar__link">Sessions</a></li></ul><h5 class="sidebar__header"><a href="/guides/application-helpers/overview/">Application Helpers</a></h5><ul class="sidebar__items"><li class="sidebar__item"><a href="/guides/application-helpers/overview/" class="sidebar__link">Overview</a></li><li class="sidebar__item"><a href="/guides/application-helpers/output-helpers/" class="sidebar__link">Output Helpers</a></li><li class="sidebar__item"><a href="/guides/application-helpers/tag-helpers/" class="sidebar__link">Tag Helpers</a></li><li class="sidebar__item"><a href="/guides/application-helpers/asset-helpers/" class="sidebar__link">Asset Helpers</a></li><li class="sidebar__item"><a href="/guides/application-helpers/form-helpers/" class="sidebar__link">Form Helpers</a></li><li class="sidebar__item"><a href="/guides/application-helpers/form-builders/" class="sidebar__link">Form Builders</a></li><li class="sidebar__item"><a href="/guides/application-helpers/standard-form-builder/" class="sidebar__link">Standard Form Builder</a></li><li class="sidebar__item"><a href="/guides/application-helpers/custom-form-builders/" class="sidebar__link">Custom Form Builders</a></li><li class="sidebar__item"><a href="/guides/application-helpers/nested-object-form-support/" class="sidebar__link">Nested Object Form Support</a></li><li class="sidebar__item"><a href="/guides/application-helpers/format-helpers/" class="sidebar__link">Format Helpers</a></li><li class="sidebar__item"><a href="/guides/application-helpers/render-helpers/" class="sidebar__link">Render Helpers</a></li><li class="sidebar__item"><a href="/guides/application-helpers/custom-helpers/" class="sidebar__link">Custom Helpers</a></li><li class="sidebar__item"><a href="/guides/application-helpers/ujs-helpers/" class="sidebar__link">Unobtrusive JavaScript Helpers</a></li></ul><h5 class="sidebar__header"><a href="/guides/adding-components/overview/">Adding Components</a></h5><ul class="sidebar__items"><li class="sidebar__item"><a href="/guides/adding-components/overview/" class="sidebar__link">Overview</a></li><li class="sidebar__item"><a href="/guides/adding-components/persistence-engine/" class="sidebar__link">Persistence Engine</a></li><li class="sidebar__item"><a href="/guides/adding-components/javascript-engine/" class="sidebar__link">JavaScript Engine</a></li><li class="sidebar__item"><a href="/guides/adding-components/testing-library/" class="sidebar__link">Testing Library</a></li><li class="sidebar__item"><a href="/guides/adding-components/rendering-engine/" class="sidebar__link">Rendering Engine</a></li><li class="sidebar__item"><a href="/guides/adding-components/mocking-library/" class="sidebar__link">Mocking Library</a></li><li class="sidebar__item"><a href="/guides/adding-components/stylesheet-engine/" class="sidebar__link">Stylesheet Engine</a></li><li class="sidebar__item"><a href="/guides/adding-components/locale-translations/" class="sidebar__link">Locale Translations</a></li></ul><h5 class="sidebar__header"><a href="/guides/advanced-usage/overview/">Advanced Usage</a></h5><ul class="sidebar__items"><li class="sidebar__item"><a href="/guides/advanced-usage/overview/" class="sidebar__link">Overview</a></li><li class="sidebar__item"><a href="/guides/advanced-usage/extending-padrino-projects/" class="sidebar__link">Extending Padrino Projects</a></li><li class="sidebar__item"><a href="/guides/advanced-usage/3rd-party-plugins/" class="sidebar__link">3rd Party Plugins</a></li><li class="sidebar__item"><a href="/guides/advanced-usage/asynchronous-concurrency-with-padrino/" class="sidebar__link">Asyncronous Concurrency</a></li><li class="sidebar__item"><a href="/guides/advanced-usage/grape-with-padrino/" class="sidebar__link">Grape with Padrino</a></li><li class="sidebar__item"><a href="/guides/advanced-usage/running-padrino-on-jruby/" class="sidebar__link">Running Padrino on JRuby</a></li><li class="sidebar__item"><a href="/guides/advanced-usage/standalone-usage-in-sinatra/" class="sidebar__link">Standalone Usage in Sinatra</a></li><li class="sidebar__item"><a href="/guides/advanced-usage/padrino-and-omniauth-overview/" class="sidebar__link">Padrino and OmniAuth Overview</a></li></ul></div></div><div class="page__content"><div class="content"><p class="content__chapter-title">Features</p><h1 id="padrino-admin">Padrino Admin</h1>
<p>Padrino comes shipped with a slick and beautiful Admin Interface, with the
following features:</p>

<table><thead>
<tr>
<th>Feature</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Orm Agnostic</strong></td>
<td>Adapters for datamapper, sequel, activerecord, mongomapper, mongoid, couchrest</td>
</tr>
<tr>
<td><strong>Authentication</strong></td>
<td>User Authentication Support, User Authorization Management</td>
</tr>
<tr>
<td><strong>Template Agnostic</strong></td>
<td>Erb and Haml Rendering Support</td>
</tr>
<tr>
<td><strong>Scaffold</strong></td>
<td>You can create a new &quot;admin interface&quot; by providing a single Model</td>
</tr>
<tr>
<td><strong>MultiLanguage</strong></td>
<td>English, German, Russian, Danish, French, Brazilian and Italian localizations</td>
</tr>
</tbody></table>

<hr>
<h2 id="admin-usage">Admin Usage</h2>
<p>Create a new project:</p>
<div class="highlight"><pre class="syntax shell"><code><span class="nv">$ </span>padrino g project admin-test-sample <span class="nt">-d</span> datamapper
<span class="nv">$ </span><span class="nb">cd </span>admin-test-sample <span class="o">&amp;&amp;</span> bundle
</code></pre></div>
<p>Create the admin application:</p>
<div class="highlight"><pre class="syntax shell"><code><span class="nv">$ </span>padrino g admin <span class="nt">-e</span> erb
</code></pre></div>
<p>Follow the instructions in your terminal and provide a valid email and
password for your newly created admin account:</p>

<ul>
<li>edit your config/database.rb</li>
<li>create the database: <code>$ bundle exec rake db:create</code></li>
<li>migrate your database: <code>$ bundle exec rake db:migrate</code></li>
<li>seed your database with some data: <code>$ bundle exec rake db:seed</code></li>
</ul>

<p>Your admin section is now &quot;setup&quot;: you can start padrino <code>padrino s</code> and
point your web browser to <a href="http://localhost:3000/admin">http://localhost:3000/admin</a> and log in with your
admin account credentials.</p>

<p><img src="https://farm2.staticflickr.com/1720/26277208545_496eb24ac8_z_d.jpg"></p>

<p>If you need to create a &quot;scaffold&quot;, (basic CRUD actions) create a
<em>model</em>, migrate your database, generate your scaffolding folder structure and
views and add those to your admin section by running the following commands:</p>
<div class="highlight"><pre class="syntax shell"><code><span class="nv">$ </span>padrino g model post title:string body:text
<span class="nv">$ </span>padrino rake db:migrate
<span class="nv">$ </span>padrino g admin_page post
<span class="nv">$ </span>padrino s
</code></pre></div>
<p>That&#39;s it! Browse to <a href="http://localhost:3000/admin">http://localhost:3000/admin</a> and access your model by
clicking on the newly created tab on your admin navbar: there you can create,
edit, destroy and display your objects.</p>

<p>You can find the sample app on <a href="https://github.com/padrino/admin-test-sample" title="github">github</a>.</p>

<hr>
<h2 id="admin-authentication">Admin Authentication</h2>
<p>Padrino Admin uses a single model Account for managing roles, memberships and
permissions (User Authentication and Authorization).</p>

<hr>
<h2 id="scenario-e-commerce-user-authentication">Scenario E-commerce (User Authentication)</h2>
<p>To use a practical example, let&#39;s examine a common e-commerce application
scenario, where we need to limit access to some of our controllers actions;
we can easily accomplish this by editing <code>app.rb</code> accordingly:</p>
<div class="highlight"><pre class="syntax ruby"><code><span class="k">class</span> <span class="nc">MyEcommerce</span> <span class="o">&lt;</span> <span class="no">Padrino</span><span class="o">::</span><span class="no">Application</span>
  <span class="n">register</span> <span class="no">Padrino</span><span class="o">::</span><span class="no">Admin</span><span class="o">::</span><span class="no">AccessControl</span>

  <span class="n">enable</span> <span class="ss">:authentication</span>
  <span class="n">enable</span> <span class="ss">:store_location</span>
  <span class="n">set</span>    <span class="ss">:login_page</span><span class="p">,</span> <span class="s2">"/login"</span>

  <span class="n">access_control</span><span class="p">.</span><span class="nf">roles_for</span> <span class="ss">:any</span> <span class="k">do</span> <span class="o">|</span><span class="n">role</span><span class="o">|</span>
    <span class="n">role</span><span class="p">.</span><span class="nf">protect</span> <span class="s2">"/customer/orders"</span>
    <span class="n">role</span><span class="p">.</span><span class="nf">protect</span> <span class="s2">"/cart/checkout"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>In the above example we protect paths starting with <code>/customer/orders</code>
and <code>/cart/checkout</code>. The result will be that an unauthenticated user will
not be able to access those actions, and they will be asked to authenticate;
first by visiting our <code>:login_page</code> defined as <code>/login</code> and by providing their
login credentials (default authentication behaviour will use email and password).</p>

<p>When successfully logged in, they will be granted access to the two protected pages.</p>

<p><img src="https://farm2.staticflickr.com/1714/25674474983_26e311f126_z_d.jpg"></p>

<hr>
<h2 id="admin-scenario-user-authorization">Admin Scenario (User Authorization)</h2>
<p>Another common scenario is needing multiple roles with various level of access,
instead of providing all management functionality to all logged in users.</p>

<p>Consider a site where you want to allow unauthenticated users to login, an
<strong>editor</strong> to manage posts and categories, and an <strong>admin</strong> role to manage settings.</p>

<p>The Padrino admin generator will by default create an <code>Account</code> model with a
<code>role</code> attribute which you can combine with the <code>project_module</code> method to
easily manage which functionality is available to your users.</p>
<div class="highlight"><pre class="syntax ruby"><code><span class="k">class</span> <span class="nc">Admin</span> <span class="o">&lt;</span> <span class="no">Padrino</span><span class="o">::</span><span class="no">Application</span>
  <span class="n">register</span> <span class="no">Padrino</span><span class="o">::</span><span class="no">Admin</span><span class="o">::</span><span class="no">AccessControl</span>

  <span class="n">enable</span> <span class="ss">:authentication</span>
  <span class="n">disable</span> <span class="ss">:store_location</span>
  <span class="n">set</span> <span class="ss">:login_page</span><span class="p">,</span> <span class="s2">"/admin/sessions/new"</span>

  <span class="n">access_control</span><span class="p">.</span><span class="nf">roles_for</span> <span class="ss">:any</span> <span class="k">do</span> <span class="o">|</span><span class="n">role</span><span class="o">|</span>
    <span class="n">role</span><span class="p">.</span><span class="nf">protect</span> <span class="s2">"/"</span>
    <span class="n">role</span><span class="p">.</span><span class="nf">allow</span> <span class="s2">"/sessions"</span>
  <span class="k">end</span>

  <span class="n">access_control</span><span class="p">.</span><span class="nf">roles_for</span> <span class="ss">:admin</span> <span class="k">do</span> <span class="o">|</span><span class="n">role</span><span class="o">|</span>
    <span class="n">role</span><span class="p">.</span><span class="nf">project_module</span> <span class="ss">:settings</span><span class="p">,</span> <span class="s2">"/settings"</span>
  <span class="k">end</span>

  <span class="n">access_control</span><span class="p">.</span><span class="nf">roles_for</span> <span class="ss">:editor</span> <span class="k">do</span> <span class="o">|</span><span class="n">role</span><span class="o">|</span>
    <span class="n">role</span><span class="p">.</span><span class="nf">project_module</span> <span class="ss">:posts</span><span class="p">,</span> <span class="s2">"/posts"</span>
    <span class="n">role</span><span class="p">.</span><span class="nf">project_module</span> <span class="ss">:categories</span><span class="p">,</span> <span class="s2">"/categories"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>In the above example, we <em>protect</em> the entire admin section (all paths starting
with &quot;/&quot;) with the only exception for all those paths starting with <code>/sessions</code>
giving our <code>unauthenticated</code> users the possibility to log in by redirecting them
to our login page and asking them to provide their email and password.</p>

<p>If we are logged in as an <strong>admin</strong> (<code>account.role == &#39;admin&#39;</code>) we will <strong>only</strong>
have access to the <code>/settings</code> path.</p>

<p>If we are logged in as an <strong>editor</strong> (<code>account.role == &#39;editor&#39;</code>) we will <strong>only</strong>
have access to the <code>/posts</code> and <code>/categories</code> paths.</p>

<hr>
<h2 id="sharing-sessions-between-mounted-applications">Sharing Sessions Between Mounted Applications</h2>
<p>Sessions can be shared between mounted applications by setting a <code>:session_id</code>
with the line <code>set :session_id, &quot;your_session_id&quot;</code> in each apps <code>app.rb</code>.</p>

<hr>
<h2 id="contributing-persistence-adapters">Contributing Persistence Adapters</h2>
<p>If you are planning to use padrino with other adapters rather than the currently
supported ones, and you want to contribute to the project by extending its
support with additional adapters like <a href="https://github.com/soveran/ohm" title="ohm">ohm</a>, <a href="https://github.com/datastax/ruby-driver" title="ruby-driver">ruby-driver</a> and
so on, be sure to check out the
<a href="/guides/adding-components/overview" title="adding components">adding components</a>
guide.</p>
<p class="updated"> last updated: 2018-12-14</p><div id='disqus_thread'></div>
<script type='text/javascript'>
//<![CDATA[
                  var disqus_shortname = 'padrinorb';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script>
<noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript>
<a href='http://disqus.com' class='dsq-brlink'>comments powered by <span class='logo-disqus'>Disqus</span></a>
</div></div></div><hr /><footer class="footer"><p>Padrino is released under the MIT LICENSE<br/>
Hosting by <a href="https://pages.github.com" title="GitHub Pages">GitHub Pages</a><br/>
Logo design by <a href="https://www.unpolo.com/" title="unpolo">unpolo</a></p>
<script>anchors.add('').remove('.sidebar h4, .sidebar h5, .header h1');</script></footer></div></body></html>